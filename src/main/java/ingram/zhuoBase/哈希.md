哈希性质
- 哈希是散列的，均匀的
- 如果把哈希里面的值都取模，例如 100291%100  得到的是均分的100个小块

题目：有40G的数，想查找出出现次数最多的数，限定计算内存1G
分析：将40G使用哈希，key(4b) value(4b) 8b*40G  = 32GB > 1G,发现无法处理，内存会爆掉
答：使用哈希后再取模，将40G几乎平分到100块中，内存为32G/100 可以一块一块处理，处理完一块就释放掉。得到每块出现最多的数，在把这100个数出现次数做比较。

---

布隆过滤器
黑名单url 100亿个放到 内存中，一个url 64byte  64*100亿 = 640G 内存，占用640G内存过多，使用布隆过滤器实现节省空间。

实现步骤：算出样本hash，例如url的hash，这块是位运算， int(10) 是320bit，想让178bit变为黑，设置1，使用 178/int获取对应数组 ,确定具体位置在使用取模运算，178%int这个是具体位置。见代码


n= 样本量 p=失误率
(1.set 只包括插入和检查的集合 2.问失误率 注意：与单样本大小无关)

公式：n=100亿 p=0.0001
m = -(n*ln p)/(ln2)^2  = 26G 向上取整
k = ln2 * m / n = 0.7 * m/n  向上取整
p真 = (1-e^(-(n*k真)/m真))^k真